@import 'tailwindcss';
@import 'tom-select/dist/css/tom-select.css';
@import 'flatpickr/dist/flatpickr.min.css';

@plugin "daisyui";

@plugin "daisyui/theme" {
  name: "lightning";
  default: true;
  prefersdark: false;
  color-scheme: light;

  /*  https://daisyui.com/theme-generator/#theme=eJx9keFugyAURl_FuCzZkmqAasW9DcKlulIwoFm7Ze8-RNcx14m_uOfw-aEfqWZnSF9SxoeRKXV9HfVRQbpLs8wy0Y0uc6CAD8Z6CeWktHCOqexAifuoMZcAbnPXvcN_cYHdC2uMFTDZuL-EgYB-aKd92GnTuak_8jtulLGZ4y2EK6nu2A5BmkHDHGQYIY8eZCkrydaQzBAocInWcD9DgQUVcg250QPoYRKI2FcFjQQN42CZ2mLxeRlW5HRaGg_MSfH2qUKPCcrxoUxIWeQHUjxHphs5B-d-5HqSCaoTXOK8wjiW35jVnT7eZEpCMq0TWuQFqWMXrA1_bInFcyxJ9kWdV4dfsVPbzessJTedpVvsYDY9606bKb3tzsxew4dnJaU8bgH-pFho2VDexCeZrziHMkB-_Q3dvuJ3-KY1v-SuIkCyUfmZZMrBLu0tSLDOR56W2ecXflAjlw */

  /* Base colors - Soft off-white with blue undertone */
  --color-base-100: oklch(96% 0.003 245deg);
  --color-base-200: oklch(92% 0.005 245deg);
  --color-base-300: oklch(85% 0.008 245deg);
  --color-base-content: oklch(25% 0.02 245deg);

  /* Primary: Lightning Class Blue (#2a588c) - Main actions, navbar */
  --color-primary: oklch(38% 0.09 245deg);
  --color-primary-content: oklch(100% 0 0deg);

  /* Secondary: Lighter Blue - Links and headings */
  --color-secondary: oklch(55% 0.12 240deg);
  --color-secondary-content: oklch(100% 0 0deg);

  /* Accent: Pure Red (#AE0000) - CTAs and emphasis */
  --color-accent: oklch(44% 0.21 29deg);
  --color-accent-content: oklch(100% 0 0deg);

  /* Neutral: Dark blue-gray */
  --color-neutral: oklch(25% 0.015 245deg);
  --color-neutral-content: oklch(100% 0 0deg);

  /* Status Colors */
  --color-info: oklch(55% 0.15 240deg);
  --color-info-content: oklch(100% 0 0deg);
  --color-success: oklch(55% 0.15 150deg);
  --color-success-content: oklch(100% 0 0deg);
  --color-warning: oklch(70% 0.15 80deg);
  --color-warning-content: oklch(20% 0.02 80deg);
  --color-error: oklch(55% 0.20 25deg);
  --color-error-content: oklch(100% 0 0deg);

  /* Border radius - Clean and professional */
  --radius-selector: 0.25rem;
  --radius-field: 0.25rem;
  --radius-box: 0.375rem;

  /* Base sizes */
  --size-selector: 0.25rem;
  --size-field: 0.25rem;

  /* Border size */
  --border: 1px;

  /* Effects */
  --depth: 1;
  --noise: 0;
}

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';
@source inline("alert-warning alert-error alert-success alert-info");

@theme {
    --animate-fade-out: fade-out 4s ease-in-out forwards;

    @keyframes fade-out {
        0%, 70% {
            opacity: 1;
        }

        100% {
            opacity: 0;
            pointer-events: none;
        }
    }
}

/* Tooltip custom colors - Lighter blue */
.tooltip::before,
.tooltip-top::before,
.tooltip-bottom::before,
.tooltip-left::before,
.tooltip-right::before {
    background-color: oklch(55% 0.12 240deg) !important; /* Secondary blue - lighter */
    color: oklch(100% 0 0deg) !important; /* White text */
}

.tooltip::after,
.tooltip-top::after,
.tooltip-bottom::after,
.tooltip-left::after,
.tooltip-right::after {
    border-color: oklch(55% 0.12 240deg) transparent transparent !important;
}

/* Password toggle visibility - ensure eye icon is always visible */
.password-input-wrapper {
    position: relative;
}

.password-input-wrapper .password-toggle-btn {
    position: absolute;
    right: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
    z-index: 20;
}

.password-toggle-btn svg.hidden {
    display: none !important;
}

/* Hide browser's native password reveal icon */
.hide-password-reveal::-ms-reveal,
.hide-password-reveal::-ms-clear {
    display: none;
}

.hide-password-reveal::-webkit-credentials-auto-fill-button,
.hide-password-reveal::-webkit-textfield-decoration-container {
    visibility: hidden;
    pointer-events: none;
}

/* Floating Label - Always Visible (on border) */
.floating-label-visible {
    position: relative;
    display: block;
    width: 100%;
}

.floating-label-visible input,
.floating-label-visible select,
.floating-label-visible textarea {
    width: 100%;
    padding: 0.75rem;
}

.floating-label-visible label {
    position: absolute;
    left: 0.75rem;
    top: -0.5rem;
    font-size: 0.875rem;
    color: oklch(60% 0.01 245deg);
    pointer-events: none;
    background: oklch(96% 0.003 245deg);
    padding: 0 0.25rem;
    z-index: 10;
}

/* TomSelect customization with Lightning Class theme colors */
.ts-dropdown {
    position: absolute;
    z-index: 9999 !important;
    background: var(--color-base-100);
    border: 1px solid var(--color-base-300);
    border-radius: var(--radius-selector);
    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 10%);
    max-height: 300px;
    overflow-y: auto;
}

.ts-dropdown .option {
    padding: 0.5rem 0.75rem;
    cursor: pointer;
    color: var(--color-base-content);
    transition: background-color 0.15s ease;
}

.ts-dropdown .option:hover,
.ts-dropdown .option.active {
    background-color: var(--color-primary);
    color: var(--color-primary-content);
}

.ts-dropdown .optgroup-header {
    padding: 0.5rem 0.75rem;
    font-weight: 600;
    color: var(--color-secondary);
}

.ts-control {
    min-height: 3rem;
    display: flex;
    align-items: center;
    padding: 0.5rem 0.75rem;
}

.ts-wrapper .item {
    line-height: normal;
}

.ts-wrapper.single .ts-control {
    background: var(--color-base-100) !important;
    border: 1px solid var(--color-base-300);
    border-radius: var(--radius-selector);
    transition: border-color 0.15s ease, box-shadow 0.15s ease;
}

.ts-wrapper.single .ts-control input {
    color: var(--color-base-content) !important;
}

.ts-wrapper.focus .ts-control {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px oklch(from var(--color-primary) l c h / 20%);
    outline: none;
    background: var(--color-base-100) !important;
}

.ts-wrapper.disabled .ts-control,
.ts-wrapper.disabled .ts-control * {
    cursor: not-allowed !important;
    opacity: 0.5;
}

.ts-wrapper.single .ts-control:hover {
    border-color: var(--color-primary);
}

/* Flatpickr calendar customization with brand colors */

/* Calendar container */
.flatpickr-calendar {
    background: oklch(96% 0.003 245deg) !important;
    border: 1px solid oklch(85% 0.008 245deg) !important;
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 10%) !important;
}

/* Month/Year header */
.flatpickr-months {
    background: oklch(38% 0.09 245deg) !important;
}

.flatpickr-current-month {
    color: oklch(100% 0 0deg) !important;
}

.flatpickr-month,
/* stylelint-disable-next-line selector-class-pattern */
.flatpickr-current-month .flatpickr-monthDropdown-months,
.flatpickr-current-month input.cur-year {
    color: oklch(100% 0 0deg) !important;
}

/* Navigation arrows */
.flatpickr-months .flatpickr-prev-month,
.flatpickr-months .flatpickr-next-month {
    fill: oklch(100% 0 0deg) !important;
}

.flatpickr-months .flatpickr-prev-month:hover,
.flatpickr-months .flatpickr-next-month:hover {
    fill: oklch(92% 0.005 245deg) !important;
}

/* Year dropdown styling (custom select element) */
.flatpickr-current-month select {
    background: oklch(38% 0.09 245deg) !important;
    color: oklch(100% 0 0deg) !important;
    border: none !important;
    font-weight: inherit !important;
    cursor: pointer !important;
    padding-right: 1rem !important;

    /* Keep native dropdown arrow by not using appearance: none */
}

/* Hide the spinner controls container that appears on hover */
/* stylelint-disable-next-line selector-class-pattern */
.flatpickr-current-month .numInputWrapper {
    display: inline-block !important;
}

/* stylelint-disable selector-class-pattern */
.flatpickr-current-month .numInputWrapper span.arrowUp,
.flatpickr-current-month .numInputWrapper span.arrowDown {
    display: none !important;
}
/* stylelint-enable selector-class-pattern */

/* Weekday headers */
.flatpickr-weekdays {
    background: oklch(92% 0.005 245deg) !important;
}

span.flatpickr-weekday {
    color: oklch(38% 0.09 245deg) !important;
    font-weight: 600 !important;
}

/* Regular date cells */
.flatpickr-day {
    color: oklch(25% 0.02 245deg) !important;
    border: 1px solid transparent !important;
}

.flatpickr-day:hover {
    background: oklch(92% 0.005 245deg) !important;
    border-color: oklch(85% 0.008 245deg) !important;
}

/* Selected dates */
.flatpickr-day.selected,
.flatpickr-day.selected:hover {
    background: oklch(38% 0.09 245deg) !important;
    border-color: oklch(38% 0.09 245deg) !important;
    color: oklch(100% 0 0deg) !important;
}

/* Today's date - ONLY when not selected */
.flatpickr-day.today:not(.selected) {
    border-color: oklch(44% 0.21 29deg) !important;
    background: oklch(96% 0.003 245deg) !important;
}

.flatpickr-day.today:not(.selected):hover {
    background: oklch(92% 0.005 245deg) !important;
    border-color: oklch(44% 0.21 29deg) !important;
}

/* Today's date when selected - blue background with red border */
.flatpickr-day.today.selected,
.flatpickr-day.today.selected:hover {
    background: oklch(38% 0.09 245deg) !important;
    border-color: oklch(44% 0.21 29deg) !important;
    color: oklch(100% 0 0deg) !important;
}

/* Future dates (disabled) - grayed out */
.flatpickr-day.flatpickr-disabled:not(.has-entry) {
    color: oklch(85% 0.008 245deg) !important;
    background: oklch(96% 0.003 245deg) !important;
    cursor: not-allowed !important;
}

.flatpickr-day.flatpickr-disabled:not(.has-entry):hover {
    background: oklch(96% 0.003 245deg) !important;
    border-color: transparent !important;
}

/* Dates with entries - show lightning logo */
.flatpickr-calendar .flatpickr-day.flatpickr-disabled.has-entry,
.flatpickr-calendar .flatpickr-day.flatpickr-disabled.has-entry:hover {
    background-image: url('../../public/images/lightning_logo.png') !important;
    background-size: auto 20px !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    background-color: oklch(92% 0.005 245deg) !important;

    /* border: 1px solid oklch(55% 0.12 240deg) !important; */
    color: transparent !important;
    cursor: not-allowed;
}

/* Today with an entry */
.flatpickr-calendar .flatpickr-day.flatpickr-disabled.has-entry.today,
.flatpickr-calendar .flatpickr-day.flatpickr-disabled.has-entry.today:hover,
.flatpickr-calendar .flatpickr-day.flatpickr-disabled.has-entry.today:focus {
    background-image: url('../../public/images/lightning_logo.png') !important;
    background-size: auto 20px !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    background-color: oklch(92% 0.005 245deg) !important;
    border: 2px solid oklch(44% 0.21 29deg) !important;
    color: transparent !important;
}

/* Leaderboard table styling */

/* Alternating row colors (primary blue with transparency) */
.table tbody tr:nth-child(even):not(.current-user-row) {
    background-color: oklch(from var(--color-primary) l c h / 10%);
}

/* Current user/fleet/district highlighting */
.current-user-row {
    background-color: oklch(from var(--color-accent) l c h / 15%);
}

/* Red indicator bar on left side of current user row */
.current-user-row td:first-child {
    position: relative;
}

.current-user-row td:first-child::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 4px;
    background-color: var(--color-accent);
}

/* Accent badge styling (red) */
.badge-accent {
    background-color: var(--color-accent);
    color: var(--color-accent-content);
    border-color: var(--color-accent);
}
